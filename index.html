<!doctype html>
<html lang="en">

<head>
    <title>FRQinder</title>
    <link rel="stylesheet" href="main.css">

    <script>
        

        var links = {"BC": {"A": {"2023": "https://apcentral.collegeboard.org/media/pdf/ap23-sg-calculus-bc.pdf", "2022": "https://apcentral.collegeboard.org/media/pdf/ap22-sg-calculus-bc.pdf", "2021": "https://apcentral.collegeboard.org/media/pdf/ap21-sg-calculus-bc.pdf", "2019": "https://apcentral.collegeboard.org/media/pdf/ap19-sg-calculus-bc.pdf", "2018": "https://secure-media.collegeboard.org/ap/pdf/ap18-sg-calculus-bc.pdf", "2017": "https://secure-media.collegeboard.org/ap/pdf/ap17-sg-calculus-bc.pdf", "2016": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/ap16_calculus_bc_sg.pdf", "2015": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/ap15_calculus_bc_sg.pdf", "2014": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/ap14_calc_bc_scoring%20guidelines.pdf", "2013": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/apcentral/ap13_calc_bc_scoring_guidelines.pdf", "2012": "https://secure-media.collegeboard.org/apc/ap12_calculus_bc_scoring_guidelines.pdf", "2011": "https://secure-media.collegeboard.org/apc/ap11_calculus_bc_scoring_guidelines.pdf", "2010": "https://secure-media.collegeboard.org/apc/ap10_calculus_bc_scoring_guidelines.pdf", "2009": "https://secure-media.collegeboard.org/apc/ap09_calculus_bc_sgs.pdf", "2008": "https://secure-media.collegeboard.org/apc/ap08_calculus_bc_sgs.pdf", "2007": "https://secure-media.collegeboard.org/apc/_ap07_calculus_bc_sgs_final.pdf", "2006": "https://secure-media.collegeboard.org/apc/_ap06_calcbc_sg.pdf", "2005": "https://secure-media.collegeboard.org/apc/_ap05_sg_calculus_bc_46571.pdf", "2004": "https://secure-media.collegeboard.org/apc/ap04_sg_calculus_bc_36999.pdf", "2003": "https://secure-media.collegeboard.org/apc/ap03_sg_calculus_bc_26477.pdf", "2002": "https://secure-media.collegeboard.org/apc/sg_calculus_bc_02_11387.pdf", "2001": "https://secure-media.collegeboard.org/apc/sg_calculus_bc_01.pdf", "2000": "https://secure-media.collegeboard.org/apc/sg_calculus_bc_00.pdf", "1999": "https://secure-media.collegeboard.org/apc/sg_calculus_bc_99.pdf", "1998": "https://secure-media.collegeboard.org/apc/sg_calc_bc_98.mh_44327.pdf"}, "B": {"2011": "https://secure-media.collegeboard.org/apc/ap11_calculus_bc_form_b_scoring_guideline.pdf", "2010": "https://secure-media.collegeboard.org/apc/ap10_calculus_bc_form_b_sgs.pdf", "2009": "https://secure-media.collegeboard.org/apc/ap09_calculus_bc_form_b_sgs.pdf", "2008": "https://secure-media.collegeboard.org/apc/ap08_calculus_bc_form_b_sgs.pdf", "2007": "https://secure-media.collegeboard.org/apc/ap07_calculus_bc_form_b_sgs.pdf", "2006": "https://secure-media.collegeboard.org/apc/_ap06_calcbc_b_sg.pdf", "2005": "https://secure-media.collegeboard.org/apc/_ap05_sg_calculus_bc__46572.pdf", "2004": "https://secure-media.collegeboard.org/apc/ap04_sg_b_calculus_bc_36995.pdf", "2003": "https://secure-media.collegeboard.org/apc/ap03_sg_calculus_bc_b_26479.pdf", "2002": "https://secure-media.collegeboard.org/apc/b_sg_calculus_bc_02_11408.pdf"}}, "AB": {"A": {"2023": "https://apcentral.collegeboard.org/media/pdf/ap23-sg-calculus-ab.pdf", "2022": "https://apcentral.collegeboard.org/media/pdf/ap22-sg-calculus-ab.pdf", "2021": "https://apcentral.collegeboard.org/media/pdf/ap21-sg-calculus-ab.pdf", "2019": "https://apcentral.collegeboard.org/media/pdf/ap19-sg-calculus-ab.pdf", "2018": "https://secure-media.collegeboard.org/ap/pdf/ap18-sg-calculus-ab.pdf", "2017": "https://secure-media.collegeboard.org/ap/pdf/ap17-sg-calclus-ab.pdf", "2016": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/ap16_calculus_ab_sg.pdf", "2015": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/ap15_calculus_ab_sg.pdf", "2014": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/ap14_calc_ab_scoring_guidelines.pdf", "2013": "https://secure-media.collegeboard.org/digitalServices/pdf/ap/apcentral/ap13_calc_ab_scoring_guidelines.pdf", "2012": "https://secure-media.collegeboard.org/apc/ap12_calculus_ab_scoring_guidelines.pdf", "2011": "https://secure-media.collegeboard.org/apc/ap11_calculus_ab_scoring_guidelines.pdf", "2010": "https://secure-media.collegeboard.org/apc/ap10_calculus_ab_scoring_guidelines.pdf", "2009": "https://secure-media.collegeboard.org/apc/ap09_calculus_ab_sgs.pdf", "2008": "https://secure-media.collegeboard.org/apc/ap08_calculus_ab_sgs.pdf", "2007": "https://secure-media.collegeboard.org/apc/_ap07_calculus_ab_sgs_final.pdf", "2006": "https://secure-media.collegeboard.org/apc/_ap06_calcab_sg.pdf", "2005": "https://secure-media.collegeboard.org/apc/_ap05_sg_calculus_ab_46569.pdf", "2004": "https://secure-media.collegeboard.org/apc/ap04_sg_calculus_ab_36998.pdf", "2003": "https://secure-media.collegeboard.org/apc/ap03_sg_calculus_ab_26472.pdf", "2002": "https://secure-media.collegeboard.org/apc/sg_calculus_ab_02_11386.pdf", "2001": "https://secure-media.collegeboard.org/apc/sg_calculus_ab_01.pdf", "2000": "https://secure-media.collegeboard.org/apc/sg_calculus_ab_00.pdf", "1999": "https://secure-media.collegeboard.org/apc/sg_calculus_ab_99.pdf", "1998": "https://secure-media.collegeboard.org/apc/sg_calcab_98_9669.pdf"}, "B": {"2011": "https://secure-media.collegeboard.org/apc/ap11_calculus_ab_form_b_scoring_guideline.pdf", "2010": "https://secure-media.collegeboard.org/apc/ap10_calculus_ab_form_b_sgs.pdf", "2009": "https://secure-media.collegeboard.org/apc/ap09_calculus_ab_form_b_sgs.pdf", "2008": "https://secure-media.collegeboard.org/apc/ap08_calculus_ab_form_b_sgs.pdf", "2007": "https://secure-media.collegeboard.org/apc/ap07_calculus_ab_form_b_sgs.pdf", "2006": "https://secure-media.collegeboard.org/apc/_ap06_calcab_formb_sg.pdf", "2005": "https://secure-media.collegeboard.org/apc/_ap05_sg_calculus_ab__46570.pdf", "2004": "https://secure-media.collegeboard.org/apc/ap04_sg_b_calculus_ab_36994.pdf", "2003": "https://secure-media.collegeboard.org/apc/ap03_sg_calculus_ab_b_26473.pdf", "2002": "https://secure-media.collegeboard.org/apc/b_sg_calculus_ab_02_11407.pdf"}}}

        function getLink(shorthand) {

            var match = shorthand.match(/^(AB|BC|)(\d{2}|\d{4})(A|B|#)([1-6])$/i)
            
            if (match == null) {
                window.alert("Identifier does not fit the format.")
                return false
            }


            if (match[1] == "") {
                match[1] = "AB"
            }

            if (match[2].length === 2) {
                if (match[2][0] == "9") {
                    match[2] = "19" + match[2]
                } else {
                    match[2] = "20" + match[2]
                }
            }

            if (match[3] == "#") {
                match[3] = "A"
            }


            set = links[match[1]][match[3]]

            present = set.hasOwnProperty(match[2])
            if (!present) { window.alert("No FRQs available for the year " + match[2]); return false }
            
            return "" + set[match[2]] + "#page=" + (parseInt(match[4]) + 1)

        }

        function doRedirect() {
            var identifier = document.getElementById("shorthand").value.replaceAll(" ", "").toUpperCase();
            link = getLink(identifier)
            if (link) {
                window.location.href = link
            }
        }

        const searchParams = new URLSearchParams(window.location.search);
        if (searchParams.has("frq")) {
            var identifier = searchParams.get("frq");
            link = getLink(identifier).replaceAll(" ", "").toUpperCase()
            if (link) {
                window.location.replace(link)
            }
        }
    </script>
</head>

<body>
    <div class="App">
        <h1 id="name">FRQinder</h1>
        <div id="submission">
            <label for="shorthand">Identifier:</label>
            <input type="text" id="shorthand" name="shorthand" autofocus/>
            <input type="submit" id="submit" value="Submit" onclick="doRedirect()"/>
        </div>
        <div class="collapsible">
            <h2 class="collapsible-header">Format</h2>
            <div class="collapsible-content" id="explanation">
                (TT)YY(YY)FN
                The pieces of the identifier are:
                <ul>
                    <li>The <i>T</i>est: <i>AB</i> or <i>BC</i>. Can be left out and it will default to <i>AB</i>.</li>
                    <li>The <i>Y</i>ear: A two digit or four digit year. Two digit numbers starting with <i>9</i> will be assumed to be in the 1900s, otherwise they will be in the 2000s.</li>
                    <li>The Test <i>F</i>orm: Can be <i>#</i>, <i>A</i>, or <i>B</i>. <i>A</i> or <i>#</i> are the default form and <i>B</i> is for Form B (not available for all years).</li>
                    <li>The Problem <i>N</i>umber: A number <i>1</i> through <i>6</i>. Is used to pull up the right page if your browser supports opening a pdf to a specific page. Will only work in years with just one title page and only one page per problem, so you may still have to scroll to find the problem.</li>
                </ul>
                The site will ignore regular spaces and automatically change lowercase letters to uppercase letters. It will take you take the scoring guideline document so you don't have to pull up another document to correct your work. <br>
                The Regular Expression used to match the identifier for those curious: /^(AB|BC|)(\d{2}|\d{4})(A|B|#)([1-6])$/i
            </div>
        </div>
        <div class="collapsible">
            <h2 class="collapsible-header">Examples</h2>
            <div class="collapsible-content" id="examples">
                <ul>
                    <li>1999#2: AP Calc AB 1999 FRQ Problem 2</li>
                    <li>07B3: AP Calc AB 2007 Form B Problem 3</li>
                    <li>BC11A5: AP Calc BC 2011 Form A Problem 5</li>
                    <li>AB17#1: AP Calc AB 2017 Problem 1</li>
                    <li>98A6: AP Calc AB 1998 Problem 6</li>
                    <li>BC2016A3: AP Calc BC 2016 Problem 3</li>
                </ul>
                There are only Form B FRQs for 2002-2011 (inclusive). '#' and 'A' are treated as the same thing and will work for any year.
            </div>
        </div>
    </div>

    <script>
        var input = document.getElementById("shorthand");

        // Execute a function when the user presses a key on the keyboard
        input.addEventListener("keypress", function(event) {
            // If the user presses the "Enter" key on the keyboard
            if (event.key === "Enter") {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
                document.getElementById("submit").click();
            }
        }); 

        var collapsibles = document.getElementsByClassName("collapsible")
        for (let i = 0; i < collapsibles.length; i++) {
            const element = collapsibles[i];
            var header = element.getElementsByClassName("collapsible-header")
            var content = element.getElementsByClassName("collapsible-content")
            header[0].addEventListener("click", function () {
                this.nextElementSibling.style.display = this.nextElementSibling.style.display == "block" ? "none" : "block"
                this.classList.toggle("active")
            })

        };
    </script>


</body>

</html>
